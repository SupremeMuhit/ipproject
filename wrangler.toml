# Cloudflare Workers Configuration
# Choose ONE of the worker files to deploy

name = "fluppy"
main = "workers/basic-ip-logger.js"  # Change this to use different implementations
compatibility_date = "2024-01-01"

# For KV-based logging (kv-ip-logger.js or advanced-ip-logger.js)
# Uncomment and configure after creating KV namespace:
# wrangler kv:namespace create "IP_LOGS"
#
# [[kv_namespaces]]
# binding = "IP_LOGS"
# id = "your-kv-namespace-id-here"

# For D1-based logging (d1-ip-logger.js or advanced-ip-logger.js)
# Uncomment and configure after creating D1 database:
# wrangler d1 create ip-logs
#
# [[d1_databases]]
# binding = "DB"
# database_name = "ip-logs"
# database_id = "your-d1-database-id-here"

# For advanced-ip-logger.js with admin endpoints
# Set admin API key secret:
# wrangler secret put ADMIN_API_KEY
# Then uncomment:
# [vars]
# ADMIN_ENABLED = "true"

# Route configuration
# Option 1: Attach to all routes of your Cloudflare Pages site
# routes = [
#   { pattern = "yourdomain.com/*", zone_name = "yourdomain.com" }
# ]

# Option 2: Use custom domain
# routes = [
#   { pattern = "*.yourdomain.com/*" }
# ]

# Workers Analytics Engine (optional, for additional analytics)
# [analytics_engine_datasets]
# [[analytics_engine_datasets.bindings]]
# binding = "ANALYTICS"
